import{s as Pe,n as me,e as oe,r as Re,f as ke,j as pe}from"../chunks/scheduler.debfefe8.js";import{S as ze,i as xe,g as h,s as C,e as Ce,h as b,y as V,c as E,k as A,a as n,B as S,z as X,C as Ne,f as t,m as Q,j as H,n as W,l as G,x as L,o as he,D as He}from"../chunks/index.54b8959a.js";import{b as M,g as Ee,p as _e,a as de,n as Ue}from"../chunks/store.182a4e3d.js";function ye(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Be(s,u,m){const f=s.slice();return f[16]=u[m],f[18]=m,f}function Te(s){let u,m=s[3][s[5]].name+"",f,B,o,c,d,p,l,_="name:",r,v,N,T,U,R=s[3][s[5]].name+"",j,O,y,i,k,I,w="primer:",q,Y,Z,z,$,J,g,F,be="starter message:",ee,te,le,x,se,ne,ie,K,ue,D,ce="home",re,ve,P=s[0]&&we(s);return{c(){u=h("button"),f=Q(m),B=C(),o=h("p"),c=C(),P&&P.c(),d=C(),p=h("h3"),l=h("label"),l.textContent=_,r=C(),v=h("input"),N=C(),T=h("p"),U=Q('delete "'),j=Q(R),O=Q('"'),y=C(),i=h("p"),k=C(),I=h("h3"),I.textContent=w,q=C(),Y=h("br"),Z=C(),z=h("textarea"),$=C(),J=h("p"),g=C(),F=h("h3"),F.textContent=be,ee=C(),te=h("br"),le=C(),x=h("textarea"),se=C(),ne=h("br"),ie=C(),K=h("p"),ue=C(),D=h("a"),D.textContent=ce,this.h()},l(e){u=b(e,"BUTTON",{class:!0});var a=H(u);f=W(a,m),a.forEach(t),B=E(e),o=b(e,"P",{}),H(o).forEach(t),c=E(e),P&&P.l(e),d=E(e),p=b(e,"H3",{});var fe=H(p);l=b(fe,"LABEL",{for:!0,"data-svelte-h":!0}),V(l)!=="svelte-13s4z32"&&(l.textContent=_),r=E(fe),v=b(fe,"INPUT",{type:!0,name:!0,class:!0}),fe.forEach(t),N=E(e),T=b(e,"P",{style:!0});var ae=H(T);U=W(ae,'delete "'),j=W(ae,R),O=W(ae,'"'),ae.forEach(t),y=E(e),i=b(e,"P",{}),H(i).forEach(t),k=E(e),I=b(e,"H3",{"data-svelte-h":!0}),V(I)!=="svelte-1o45iez"&&(I.textContent=w),q=E(e),Y=b(e,"BR",{}),Z=E(e),z=b(e,"TEXTAREA",{id:!0,cols:!0,rows:!0,class:!0}),H(z).forEach(t),$=E(e),J=b(e,"P",{}),H(J).forEach(t),g=E(e),F=b(e,"H3",{"data-svelte-h":!0}),V(F)!=="svelte-1wp3fj6"&&(F.textContent=be),ee=E(e),te=b(e,"BR",{}),le=E(e),x=b(e,"TEXTAREA",{id:!0,cols:!0,rows:!0,class:!0}),H(x).forEach(t),se=E(e),ne=b(e,"BR",{}),ie=E(e),K=b(e,"P",{}),H(K).forEach(t),ue=E(e),D=b(e,"A",{href:!0,"data-svelte-h":!0}),V(D)!=="svelte-1bzf17w"&&(D.textContent=ce),this.h()},h(){A(u,"class","svelte-hvmhky"),A(l,"for","nametag"),A(v,"type","text"),A(v,"name","nametag"),A(v,"class","svelte-hvmhky"),G(T,"color","red"),G(T,"cursor","pointer"),G(T,"text-decoration","underline"),A(z,"id","primerinput"),A(z,"cols","40"),A(z,"rows","5"),A(z,"class","svelte-hvmhky"),A(x,"id",""),A(x,"cols","40"),A(x,"rows","5"),A(x,"class","svelte-hvmhky"),A(D,"href","/")},m(e,a){n(e,u,a),L(u,f),n(e,B,a),n(e,o,a),n(e,c,a),P&&P.m(e,a),n(e,d,a),n(e,p,a),L(p,l),L(p,r),L(p,v),S(v,s[3][s[5]].name),n(e,N,a),n(e,T,a),L(T,U),L(T,j),L(T,O),n(e,y,a),n(e,i,a),n(e,k,a),n(e,I,a),n(e,q,a),n(e,Y,a),n(e,Z,a),n(e,z,a),S(z,s[6].message.content),n(e,$,a),n(e,J,a),n(e,g,a),n(e,F,a),n(e,ee,a),n(e,te,a),n(e,le,a),n(e,x,a),S(x,s[7].message.content),n(e,se,a),n(e,ne,a),n(e,ie,a),n(e,K,a),n(e,ue,a),n(e,D,a),re||(ve=[X(u,"click",s[9]),X(v,"input",s[12]),X(T,"click",s[13]),X(z,"input",s[14]),X(x,"input",s[15])],re=!0)},p(e,a){a&40&&m!==(m=e[3][e[5]].name+"")&&he(f,m),e[0]?P?P.p(e,a):(P=we(e),P.c(),P.m(d.parentNode,d)):P&&(P.d(1),P=null),a&40&&v.value!==e[3][e[5]].name&&S(v,e[3][e[5]].name),a&40&&R!==(R=e[3][e[5]].name+"")&&he(j,R),a&64&&S(z,e[6].message.content),a&128&&S(x,e[7].message.content)},d(e){e&&(t(u),t(B),t(o),t(c),t(d),t(p),t(N),t(T),t(y),t(i),t(k),t(I),t(q),t(Y),t(Z),t(z),t($),t(J),t(g),t(F),t(ee),t(te),t(le),t(x),t(se),t(ne),t(ie),t(K),t(ue),t(D)),P&&P.d(e),re=!1,Re(ve)}}}function we(s){let u,m,f,B="+ new persona",o,c,d=ye(s[3]),p=[];for(let l=0;l<d.length;l+=1)p[l]=Ae(Be(s,d,l));return{c(){u=h("div");for(let l=0;l<p.length;l+=1)p[l].c();m=C(),f=h("button"),f.textContent=B,this.h()},l(l){u=b(l,"DIV",{});var _=H(u);for(let r=0;r<p.length;r+=1)p[r].l(_);m=E(_),f=b(_,"BUTTON",{style:!0,class:!0,"data-svelte-h":!0}),V(f)!=="svelte-1tz2kbs"&&(f.textContent=B),_.forEach(t),this.h()},h(){G(f,"width","10em"),G(f,"border","1px solid black"),A(f,"class","svelte-hvmhky")},m(l,_){n(l,u,_);for(let r=0;r<p.length;r+=1)p[r]&&p[r].m(u,null);L(u,m),L(u,f),o||(c=X(f,"click",s[11]),o=!0)},p(l,_){if(_&41){d=ye(l[3]);let r;for(r=0;r<d.length;r+=1){const v=Be(l,d,r);p[r]?p[r].p(v,_):(p[r]=Ae(v),p[r].c(),p[r].m(u,m))}for(;r<p.length;r+=1)p[r].d(1);p.length=d.length}},d(l){l&&t(u),He(p,l),o=!1,c()}}}function Ae(s){let u,m=s[3][s[18]].name+"",f,B,o,c,d;function p(){return s[10](s[18])}return{c(){u=h("button"),f=Q(m),B=C(),o=h("br"),this.h()},l(l){u=b(l,"BUTTON",{style:!0,class:!0});var _=H(u);f=W(_,m),_.forEach(t),B=E(l),o=b(l,"BR",{}),this.h()},h(){G(u,"width","10em"),G(u,"border","1px solid black"),A(u,"class","svelte-hvmhky")},m(l,_){n(l,u,_),L(u,f),n(l,B,_),n(l,o,_),c||(d=X(u,"click",p),c=!0)},p(l,_){s=l,_&8&&m!==(m=s[3][s[18]].name+"")&&he(f,m)},d(l){l&&(t(u),t(B),t(o)),c=!1,d()}}}function je(s){let u,m="settings",f,B,o,c,d="context size (in chat messages)",p,l,_,r,v,N,T="persona:",U,R,j,O,y=s[3].length>0&&Te(s);return{c(){u=h("h2"),u.textContent=m,f=C(),B=h("br"),o=C(),c=h("label"),c.textContent=d,p=C(),l=h("input"),_=C(),r=h("br"),v=C(),N=h("h2"),N.textContent=T,U=C(),y&&y.c(),R=Ce(),this.h()},l(i){u=b(i,"H2",{"data-svelte-h":!0}),V(u)!=="svelte-14ykkk3"&&(u.textContent=m),f=E(i),B=b(i,"BR",{}),o=E(i),c=b(i,"LABEL",{for:!0,"data-svelte-h":!0}),V(c)!=="svelte-s2qjb7"&&(c.textContent=d),p=E(i),l=b(i,"INPUT",{type:!0,name:!0,class:!0}),_=E(i),r=b(i,"BR",{}),v=E(i),N=b(i,"H2",{"data-svelte-h":!0}),V(N)!=="svelte-1rdocrc"&&(N.textContent=T),U=E(i),y&&y.l(i),R=Ce(),this.h()},h(){A(c,"for","contextsetting"),A(l,"type","number"),A(l,"name","contextsetting"),A(l,"class","svelte-hvmhky")},m(i,k){n(i,u,k),n(i,f,k),n(i,B,k),n(i,o,k),n(i,c,k),n(i,p,k),n(i,l,k),S(l,s[4]),n(i,_,k),n(i,r,k),n(i,v,k),n(i,N,k),n(i,U,k),y&&y.m(i,k),n(i,R,k),j||(O=X(l,"input",s[8]),j=!0)},p(i,[k]){k&16&&Ne(l.value)!==i[4]&&S(l,i[4]),i[3].length>0?y?y.p(i,k):(y=Te(i),y.c(),y.m(R.parentNode,R)):y&&(y.d(1),y=null)},i:me,o:me,d(i){i&&(t(u),t(f),t(B),t(o),t(c),t(p),t(l),t(_),t(r),t(v),t(N),t(U),t(R)),y&&y.d(i),j=!1,O()}}}function Le(s,u,m){let f,B,o,c,d=me,p=()=>(d(),d=ke(T,w=>m(6,c=w)),T),l,_=me,r=()=>(_(),_=ke(N,w=>m(7,l=w)),N);oe(s,_e,w=>m(3,f=w)),oe(s,de,w=>m(4,B=w)),oe(s,M,w=>m(5,o=w)),s.$$.on_destroy.push(()=>d()),s.$$.on_destroy.push(()=>_());var v=!1;let N,T;M.subscribe(w=>{let q=f[w];console.log(q),r(m(1,N=Ee(q.starter_id))),p(m(2,T=Ee(q.primer_id)))});function U(){B=Ne(this.value),de.set(B)}const R=()=>m(0,v=!v),j=w=>{pe(M,o=w,o),m(0,v=!1)},O=()=>{let w=Ue();f.push(w),pe(M,o=f.length-1,o),m(0,v=!1),console.log(o),console.log(f)};function y(){f[o].name=this.value,_e.set(f)}const i=()=>{pe(_e,f=f.filter(w=>w.name!=f[o].name),f),pe(M,o=0,o)};function k(){c.message.content=this.value,T.set(c)}function I(){l.message.content=this.value,N.set(l)}return[v,N,T,f,B,o,c,l,U,R,j,O,y,i,k,I]}class De extends ze{constructor(u){super(),xe(this,u,Le,je,Pe,{})}}export{De as component};
